<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BIZDRM</title>
    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../assets/css/_common.css" />
    <script src="../../assets/js/jquery-2.2.0.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../../tailwind.config.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.5/index.global.min.js"></script>
    <!-- <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.bundle.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js"></script> -->
  </head>

  <body>
    <header class="bg-white sticky top-0 z-20">
      <nav class="nav default-inner h-full flex justify-between">
        <a class="p-0" href="../main/main.html">
          <div class="logo"></div>
        </a>
        <div class="flex h-full" id="navbarSupportedContent">
          <ul class="nav-item-list ml-auto h-full flex">
            <li class="nav-item">
              <a class="nav-link px-0 h-full" href="../main/main.html">HOME<span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link px-0 h-full" href="#">서비스 소개</a>
            </li>
            <li class="nav-item">
              <a class="nav-link px-0 h-full" href="#">고객지원</a>
            </li>
            <li class="nav-item">
              <a class="nav-link px-0 h-full" href="../data/dataManagement.html">데이터 관리</a>
            </li>
            <li class="nav-item">
              <a class="nav-link px-0 h-full" href="#">캠페인</a>
              <div class="sub-menu rounded-b-lg">
                <a class="sub-menu-item text-center no-underline text-lg py-3 bg-biz-red" href="../campaign/lead.html">리드</a>
                <a class="sub-menu-item text-center no-underline text-lg py-3 bg-biz-red" href="../campaign/list.html">리스트</a>
                <a class="sub-menu-item text-center no-underline text-lg py-3 bg-biz-red" href="../campaign/campaign.html">캠페인</a>
              </div>
            </li>
            <li class="nav-item">
              <a class="nav-link px-0 h-full" href="../plan/plan.html">플랜</a>
            </li>
          </ul>
          <!-- 로그인 전 후 디자인상으로는 텍스트만 바뀜. -->
          <!-- 1. 로그인 전 -->
          <div class="flex items-center ml-12">
            <a href="../login/login.html" class="no-underline text-black font-bold text-sm flex items-center mr-10"
              ><span class="login-icon mr-1"></span>로그인</a
            >
            <a href="../login/login.html" class="no-underline font-bold x items-center"><span class="logout-icon mr-1"></span>회원가입</a>
          </div>
          <!-- 2 . 로그인 후 -->
          <!-- <div class="flex items-center ml-12">
            <a href="../login/login.html" class="no-underline text-black font-bold text-sm flex items-center mr-10"
              ><span class="login-icon mr-1"></span>로그아웃</a
            >
            <a href="../login/login.html" class="no-underline text-biz-red font-bold text-sm flex items-center"
              ><span class="logout-icon mr-1"></span>김호진님</a
            >
          </div> -->
        </div>
      </nav>
    </header>
    <main>
      <div class="dashboard-page bg-biz-light-red flex">
        <nav class="dashboard-nav w-[380px] bg-[#543438] py-10">
          <ul class="w-[263px] ml-auto">
            <li>
              <p class="flex items-center mb-2.5 pl-10">
                <span class="chart-icon w-[27px] h-[27px] shrink-0"></span>
                <span class="text-white text-base ml-[17px]">통계</span>
              </p>
              <ul class="nav nav-tabs flex-col border-0" id="myTab" role="tablist">
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link flex items-center w-full text-white border-0 text-left text-sm active"
                    id="all-chart-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#all-chart"
                    type="button"
                    role="tab"
                    aria-controls="all-chart"
                    aria-selected="true"
                  >
                    전체 통계
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link flex items-center w-full text-white border-0 text-left text-sm"
                    id="daily-reprot-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#daily-reprot"
                    type="button"
                    role="tab"
                    aria-controls="daily-reprot"
                    aria-selected="false"
                  >
                    Daily Report
                  </button>
                </li>
                <li class="nav-item" role="presentation">
                  <button
                    class="nav-link flex items-center w-full text-white border-0 text-left text-sm"
                    id="list-tab"
                    data-bs-toggle="tab"
                    data-bs-target="#compare"
                    type="button"
                    role="tab"
                    aria-controls="compare"
                    aria-selected="false"
                  >
                    캠페인 성과 비교하기
                  </button>
                </li>
              </ul>
            </li>
            <li class="mt-4">
              <button class="flex items-center pl-10">
                <span class="excel-icon w-[36px] h-[36px] shrink-0"></span>
                <span class="text-white text-base ml-[17px]">엑셀 다운로드</span>
              </button>
            </li>
            <li class="mt-9">
              <div class="bg-white rounded-md border-2 border-[#F14A4A] py-2 mr-[17px]">
                <ul class="flex justify-center gap-[29px]">
                  <li class="flex flex-col items-center">
                    <p class="leading-[1.87] text-sm">520 명</p>
                    <div class="bar-chart"><span class="bar-chart-value" style="height: 20px"></span></div>
                    <label for="lead" class="leading-[1.87] text-sm mt-[7px]">LEAD</label>
                  </li>
                  <li class="flex flex-col items-center">
                    <p class="leading-[1.87] text-sm">2800 회</p>
                    <div class="bar-chart"><span class="bar-chart-value" style="height: 80px"></span></div>
                    <label for="advertising" class="leading-[1.87] text-sm mt-[7px]">광고노출</label>
                  </li>
                </ul>
                <p class="text-[#E91C36] font-bold text-sm leading-[1.87] mt-px text-center">SPECIAL PLAN</p>
              </div>
            </li>
          </ul>
        </nav>
        <!-- CONTENT -->
        <div class="tab-content flex-1" id="myTabContent">
          <!-- 1. 전체 통계 -->
          <div class="tab-pane show active" id="all-chart" role="tabpanel" aria-labelledby="all-chart-tab">
            <div class="inner">
              <select class="basic-select border-[#AA2024]" name="" id="">
                <option value="1">캠페인 이름 노출되는 곳</option>
                <option value="2">캠페인 이름 노출되는 곳2</option>
                <option value="3">캠페인 이름 노출되는 곳3</option>
                <option value="4">캠페인 이름 노출되는 곳4</option>
              </select>
              <ul class="campaign-visit-click-graph row mt-[29px] mb-[23px]">
                <li class="col-7 px-2">
                  <div class="flex justify-between mb-[11px]">
                    <p class="text-base font-bold">캠페인 방문, 클릭 수 추이</p>
                    <ul class="nav nav-tabs nav-pills nav-fill" id="myTab" role="tablist">
                      <li class="nav-item" role="presentation">
                        <button
                          class="nav-link"
                          id="clickValue-tab"
                          data-bs-toggle="tab"
                          data-bs-target="#clickValue"
                          type="button"
                          role="tab"
                          aria-controls="clickValue"
                          aria-selected="false"
                        >
                          클릭 수 보기
                        </button>
                      </li>
                      <li class="nav-item" role="presentation">
                        <button
                          class="nav-link active"
                          id="visitsValue-tab"
                          data-bs-toggle="tab"
                          data-bs-target="#visitsValue"
                          type="button"
                          role="tab"
                          aria-controls="visitsValue"
                          aria-selected="true"
                        >
                          방문 수 보기
                        </button>
                      </li>
                    </ul>
                  </div>
                  <div class="tab-content bg-white rounded-lg p-4 h-[376px]" id="Graph">
                    <div class="tab-pane h-full fade" id="clickValue" ro le="tabpanel" aria-labelledby="clickValue-tab">
                      <div class="w-full h-full flex">
                        <canvas id="" class="mt-auto"></canvas>
                      </div>
                    </div>
                    <div class="tab-pane h-full show active" id="visitsValue" role="tabpanel" aria-labelledby="visitsValue-tab">
                      <div class="w-full h-full flex">
                        <canvas id="CampaignLineGraph" class="mt-auto"></canvas>
                      </div>
                    </div>
                  </div>
                </li>
                <li class="col-5 px-2">
                  <div class="bg-white w-full rounded-lg mt-[40px] p-4">
                    <div id="calendar"></div>
                  </div>
                </li>
              </ul>
              <ul class="row pt-[23px]">
                <li class="col-3 px-2">
                  <p class="text-base font-bold mb-[11px]">누적 캠페인 방문 수</p>
                  <div class="flex items-center rounded-md red-gradient px-[23px] h-[105px]">
                    <p class="flex flex-col">
                      <b class="text-white font-bold text-lg">321명</b>
                      <span class="text-white text-base mt-[2px]">전체 80.2%</span>
                    </p>
                  </div>
                </li>
                <li class="col-3 px-2">
                  <p class="text-base font-bold mb-[11px]">누적 버튼 클릭 수</p>
                  <div class="flex items-center rounded-md red-gradient px-[23px] h-[105px]">
                    <p class="flex flex-col">
                      <b class="text-white font-bold text-lg">159명</b>
                      <span class="text-white text-base mt-[2px]">전체 52.2%</span>
                    </p>
                  </div>
                </li>
                <li class="col-3 px-2">
                  <p class="text-base font-bold mb-[11px]">캠페인 평균 체류 시간</p>
                  <div class="flex items-center rounded-md red-gradient px-[23px] h-[105px]">
                    <p>
                      <b class="text-white font-bold text-lg">3분</b>
                    </p>
                  </div>
                </li>
                <li class="col-3 px-2">
                  <p class="text-base font-bold mb-[11px]">평균 PV(Page View)</p>
                  <div class="flex items-center rounded-md red-gradient px-[23px] h-[105px]">
                    <p>
                      <b class="text-white font-bold text-lg">15페이지</b>
                    </p>
                  </div>
                </li>
              </ul>
              <ul class="row mt-[26px]">
                <li class="col-6 py-2">
                  <p class="text-base font-bold mb-[11px]">이탈률 추이</p>
                  <div class="bg-white w-full rounded-lg p-4">
                    <canvas id="DeviationRateTrendLine"></canvas>
                  </div>
                </li>
                <li class="col-6 py-2">
                  <p class="text-base font-bold mb-[11px]">캠페인 체류시간 추이</p>
                  <div class="bg-white w-full rounded-lg p-4">
                    <canvas id="TimeOfStayLine"></canvas>
                  </div>
                </li>
              </ul>
              <ul class="row mt-[26px]">
                <li class="col-6 py-2">
                  <p class="text-base font-bold mb-[11px]">유입 경로</p>
                  <div class="bg-white w-full rounded-lg flex p-4">
                    <div class="relative w-[125px]">
                      <p class="doughnut-value">100%</p>
                      <canvas id="VisitRoute"></canvas>
                    </div>
                    <ul class="ml-[26px] flex flex-col justify-center flex-1 gap-2">
                      <li class="flex items-center justify-between">
                        <p class="flex items-center">
                          <span class="w-[8px] h-[8px] rounded-[50%] shrink-0 bg-[#AA2024] mr-[13px]"></span>
                          <span class="text-sm">문자</span>
                        </p>
                        <span class="text-sm font-bold">60%</span>
                      </li>
                      <li class="flex items-center justify-between">
                        <p class="flex items-center">
                          <span class="w-[8px] h-[8px] rounded-[50%] shrink-0 bg-[#4250D8] mr-[13px]"></span>
                          <span class="text-sm">이메일</span>
                        </p>
                        <span class="text-sm font-bold">30%</span>
                      </li>
                      <li class="flex items-center justify-between">
                        <p class="flex items-center">
                          <span class="w-[8px] h-[8px] rounded-[50%] shrink-0 bg-[#D9D9D9] mr-[13px]"></span>
                          <span class="text-sm">기타</span>
                        </p>
                        <span class="text-sm font-bold">10%</span>
                      </li>
                    </ul>
                  </div>
                </li>
              </ul>
            </div>
          </div>
          <!-- 2. Daily Report -->
          <div class="tab-pane fade" id="daily-reprot" role="tabpanel" aria-labelledby="daily-reprot-tab">Daily Report</div>
          <!-- 3. 캠페인 성과 비교 -->
          <div class="tab-pane fade" id="compare" role="tabpanel" aria-labelledby="compare-tab">캠페인 성과 비교하기</div>
        </div>
      </div>
    </main>
    <footer>
      <div class="footer-inner default-inner flex items-center">
        <figure class="footer-logo">
          <img src="../../assets/images/common/logo.svg" alt="BIZDRM" />
        </figure>
        <div class="footer-content">
          <div class="flex mb-10">
            <a class="text-lg text-black mr-6" href="">서비스 이용약관</a>
            <a class="text-lg text-black" href="">개인정보처리방침</a>
          </div>
          <p class="text-lg mb-0">아이에이엠파트너즈 I 통신판매신고번호 : 2021-충부청주-1203 I 대표이사 : 김현민 iampatners2023@gmail.com</p>
          <p class="text-lg mb-0 mt-1">고객센터 : 063-244-2919 I 주소 : 전라북도 전주시 덕진구 인후동1가 500-48</p>
          <p class="text-lg mt-10 mb-0">Copyright (c) Iampartners All rights reserved.</p>
        </div>
      </div>
    </footer>

    <script>
      const CampaignLineChart = document.getElementById("CampaignLineGraph");
      let campaignVisitData = {
        labels: [
          "1",
          "2",
          "3",
          "4",
          "5",
          "6",
          "7",
          "8",
          "9",
          "10",
          "11",
          "12",
          "13",
          "14",
          "15",
          "16",
          "17",
          "18",
          "19",
          "20",
          "21",
          "22",
          "23",
          "24",
          "25",
          "26",
          "27",
          "28",
          "29",
          "30",
          "31",
        ],
        datasets: [
          {
            label: "방문 수 보기",
            data: [65, 59, 80, 81, 26, 55, 40, 65, 59, 80, 65, 59, 80, 81, 26, 55, 40, 65, 59, 80, 65, 59, 80, 81, 26, 55, 40, 65, 59, 80, 300],
            borderWidth: 2, // 선 굵기
            borderColor: "#AA2024",
            pointBorderWidth: 0,
            tension: 0.3,
          },
        ],
      };

      new Chart(CampaignLineChart, {
        type: "line",
        data: campaignVisitData,
        options: {
          scales: {
            y: {
              // defining min and max so hiding the dataset does not change scale range
              min: 0,
              max: 350,
              grid: {
                drawBorder: false,
              },
            },
            x: {
              grid: {
                display: false,
              },
            },
          },
          plugins: {
            legend: false,
          },
        },
      });
    </script>
    <script>
      const DeviationRateTrendLineChart = document.getElementById("DeviationRateTrendLine");
      let DeviationRateTrendLineData = {
        labels: ["3-1", "3-3", "3-6", "3-9", "3-15", "3-16"],
        datasets: [
          {
            label: "이탈률 추이",
            data: [60, 30, 40, 55, 30, 20],
            fill: false,
            borderWidth: 2, // 선 굵기
            borderColor: "#700CAE",
            pointBorderWidth: 0,
            tension: 0.3,
          },
        ],
      };

      new Chart(DeviationRateTrendLineChart, {
        type: "line",
        data: DeviationRateTrendLineData,
        options: {
          scales: {
            y: {
              min: 0,
              max: 100,
            },
            x: {
              grid: {
                display: false,
              },
            },
          },
          plugins: {
            legend: false,
            tooltip: {
              // 기존 툴팁 사용 안 함
              enabled: false,
            },
          },
        },
      });
    </script>
    <script>
      const TimeOfStayLineChart = document.getElementById("TimeOfStayLine");
      let TimeOfStayLineData = {
        labels: ["3-1", "3-3", "3-6", "3-9", "3-15", "3-16"],
        datasets: [
          {
            label: "캠페인 체류시간 추이",
            data: [60, 30, 40, 55, 30, 20],
            fill: false,
            borderWidth: 2, // 선 굵기
            borderColor: "#0CAEA4",
            pointBorderWidth: 0,
            tension: 0.3,
          },
        ],
      };

      new Chart(TimeOfStayLineChart, {
        type: "line",
        data: TimeOfStayLineData,
        options: {
          scales: {
            y: {
              min: 0,
              max: 100,
            },
            x: {
              grid: {
                display: false,
              },
            },
          },
          plugins: {
            legend: false,
            tooltip: {
              // 기존 툴팁 사용 안 함
              enabled: false,
            },
          },
        },
      });
    </script>
    <script>
      const VisitDoughnut = document.getElementById("VisitRoute");

      new Chart(VisitDoughnut, {
        type: "doughnut",
        data: {
          labels: ["문자", "이메일", "기타"],
          datasets: [
            {
              label: "유입 경로",
              data: [60, 30, 10],
              borderWidth: 1,
              backgroundColor: ["#AA2024", "#4250D8", "#D9D9D9"],
              hoverOffset: 4,
            },
          ],
        },
        options: {
          events: [],
          cutout: 40, //   도넛 width 값 수정
          plugins: {
            legend: {
              display: false,
            },
            labels: {
              font: {
                size: 14,
                family: "Pretendard",
              },
            },
          },
        },
      });
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        var calendarEl = document.getElementById("calendar");
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: "dayGridMonth",
        });
        calendar.render();
      });
    </script>
  </body>
</html>
